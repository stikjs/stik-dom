// Version: 0.1.0 | From: 21-04-2014

!function(){function withDependencies(){for(var name in modules)tmpDependencies.hasOwnProperty(name)||(tmpDependencies[name]=modules[name]);return tmpDependencies}var methods={},modules={},tmpDependencies={};window.stik.dom=function(as,func){if(!as)throw"Stik: DOM needs a name";if(!func||"function"!=typeof func)throw"Stik: DOM needs a function";return modules[as]=window.stik.injectable({module:func,resolvable:!0}),methods[as]=function(){var func=modules[as].resolve(withDependencies());return func.apply({},arguments)},methods[as]},methods.pushDoubles=function(doubles){for(var name in doubles)tmpDependencies[name]=window.stik.injectable({module:doubles[name]})},methods.cleanDoubles=function(){tmpDependencies={}},window.stik.boundary({as:"$dom",to:methods})}(),window.stik.dom("hasClass",function(){return function(elm,selector){var className=" "+selector+" ";return(" "+elm.className+" ").replace(/[\n\t]/g," ").indexOf(className)>-1}}),window.stik.dom("removeClass",function(hasClass){return function(elm,selector){if(hasClass(elm,selector)){var regex=new RegExp("\\b\\s?"+selector+"\\b","g");elm.className=elm.className.replace(regex,"")}}}),window.stik.dom("addClass",function(hasClass){return function(elm,selector){hasClass(elm,selector)||(elm.className=(elm.className+" "+selector).trim())}}),window.stik.dom("toggleClass",function(hasClass,addClass,removeClass){return function(elm,selector){hasClass(elm,selector)?removeClass(elm,selector):hasClass(elm,selector)||addClass(elm,selector)}}),window.stik.dom("hide",function(){return function(elm){elm.style.display="none"}}),window.stik.dom("show",function(){return function(elm){elm.style.removeProperty?elm.style.removeProperty("display"):elm.style.removeAttribute("display")}}),window.stik.dom("remove",function(){return function(elm){elm.parentNode.removeChild(elm)}}),window.stik.dom("parse",function(){return function(elmStr){var div=document.createElement("div");return div.innerHTML=elmStr,div.childNodes.length>1?div.childNodes:div.firstChild}}),window.stik.dom("append",function(){return function(parent,newChild){if("string"==typeof newChild){var div=document.createElement("div");for(div.innerHTML=newChild;div.firstChild;)parent.appendChild(div.firstChild)}else parent.appendChild(newChild)}}),window.stik.dom("prepend",function(insertBefore,append){return function(parent,newChild){parent.childNodes.length>0?insertBefore(parent.firstChild,newChild):append(parent,newChild)}}),window.stik.dom("insertAfter",function(){return function(referenceNode,newChild){if("string"==typeof newChild){var div=document.createElement("div");for(div.innerHTML=newChild;div.firstChild;)referenceNode.parentNode.insertBefore(div.firstChild,referenceNode.nextSibling)}else referenceNode.parentNode.insertBefore(newChild,referenceNode.nextSibling)}}),window.stik.dom("insertBefore",function(){return function(referenceNode,newChild){if("string"==typeof newChild){var div=document.createElement("div");for(div.innerHTML=newChild;div.firstChild;)referenceNode.parentNode.insertBefore(div.firstChild,referenceNode)}else referenceNode.parentNode.insertBefore(newChild,referenceNode)}}),window.stik.dom("data",function(){return function(elm){function parseName(name){return toCamelCase(name.match(/(data-)(.+)/)[2])}function toCamelCase(name){return name.replace(/-([a-z])/g,function(match){return match[1].toUpperCase()})}var attr,name,attrs={};for(attr in elm.attributes)elm.attributes[attr].value&&(name=elm.attributes[attr].name,name.match(/^data-/m)&&(attrs[parseName(name)]=elm.attributes[attr].value));return attrs}}),window.stik.boundary({as:"$data",resolvable:!0,to:function($template,$dom){return $dom.data($template)}}),window.stik.dom("serialize",function(){return function(form){var i,j,q;if(form&&"FORM"===form.nodeName){for(i=j=void 0,q=[],i=form.elements.length-1;i>=0;)if(""!==form.elements[i].name){switch(form.elements[i].nodeName){case"INPUT":switch(form.elements[i].type){case"text":case"hidden":case"password":case"button":case"reset":case"submit":q.push(form.elements[i].name+"="+encodeURIComponent(form.elements[i].value));break;case"checkbox":case"radio":form.elements[i].checked&&q.push(form.elements[i].name+"="+encodeURIComponent(form.elements[i].value));break;case"file":}break;case"TEXTAREA":q.push(form.elements[i].name+"="+encodeURIComponent(form.elements[i].value));break;case"SELECT":switch(form.elements[i].type){case"select-one":q.push(form.elements[i].name+"="+encodeURIComponent(form.elements[i].value));break;case"select-multiple":for(j=form.elements[i].options.length-1;j>=0;)form.elements[i].options[j].selected&&q.push(form.elements[i].name+"="+encodeURIComponent(form.elements[i].options[j].value)),j-=1}break;case"BUTTON":switch(form.elements[i].type){case"reset":case"submit":case"button":q.push(form.elements[i].name+"="+encodeURIComponent(form.elements[i].value))}}i-=1}else i-=1;return q.join("&")}}});